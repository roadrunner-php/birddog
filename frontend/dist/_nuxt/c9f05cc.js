(window.webpackJsonp=window.webpackJsonp||[]).push([[8,4,18],{613:function(t,e,r){"use strict";r.r(e);var n={name:"WarningMessage"},o=r(44),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"alert alert-warning border d-flex align-items-center mb-0",attrs:{role:"alert"}},[e("div",{staticClass:"mr-3"},[e("b-icon",{attrs:{icon:"exclamation-triangle-fill",variant:"danger","font-scale":"1.5"}})],1),t._v(" "),e("div",[t._t("default")],2)])}),[],!1,null,"1db0f313",null);e.default=component.exports},614:function(t,e,r){"use strict";var n=r(11);r(10),r(53),r(59),r(79),r(58);e.a={mounted:function(){this.refreshPeriodically()},beforeDestroy:function(){this.resetPeriodically()},methods:{fetchData:function(){return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},resetPeriodically:function(){clearTimeout(this.timeout)},refreshPeriodically:function(){var t=this;Promise.all([this.fetchData()]).then((function(){t.timeout=setTimeout((function(){t.refreshPeriodically()}),t.refreshTimeout||5e3)}))}}}},623:function(t,e,r){"use strict";r.r(e);var n,o=r(46),c=(r(10),r(17),r(48),r(59),r(67));function h(t,e,r,o){t(e,r),void 0!==o&&o.emit(n.ChartRendered)}function l(t,e){t.destroy(),void 0!==e&&e.emit(n.ChartDestroyed)}function d(t,e,r){const n=[];t.datasets=e.datasets.map((e=>{const o=t.datasets.find((t=>t[r]===e[r]));return o&&e.data&&!n.includes(o)?(n.push(o),Object.assign(o,e),o):{...e}}))}!function(t){t.ChartRendered="chart:rendered",t.ChartUpdated="chart:updated",t.ChartDestroyed="chart:destroyed",t.LabelsUpdated="labels:updated"}(n||(n={}));function f(t,e,r){let o={};return{props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:()=>{}},datasetIdKey:{type:String,default:"label"},chartId:{type:String,default:t},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{type:String,default:""},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},data:()=>({_chart:null,_id:Math.random().toString(36).substring(2)}),computed:{hasAnnotationPlugin(){var t,e;return void 0!==(null===(t=this.chartOptions)||void 0===t||null===(e=t.plugins)||void 0===e?void 0:e.annotation)}},created(){c.e.register(r)},mounted(){o[this.$data._id]=null,"datasets"in this.chartData&&this.chartData.datasets.length>0&&(h(this.renderChart,this.chartData,this.chartOptions),this.$emit(n.ChartRendered))},watch:{chartData:{handler:function(t,e){this.chartDataHandler(t,e)},deep:!0},chartOptions:{handler:function(t){this.chartOptionsHandler(t)},deep:!0}},methods:{renderChart(data,t){const r=this.getCurrentChart();if(null!==r&&(l(r),this.$emit(n.ChartDestroyed)),!this.$refs.canvas)throw new Error("Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components");{const r=function(data,t){const e={labels:void 0===data.labels?[]:[...data.labels],datasets:[]};return d(e,{...data},t),e}(data,this.datasetIdKey),n=this.$refs.canvas.getContext("2d");null!==n&&this.setCurrentChart(new c.e(n,{type:e,data:r,options:t,plugins:this.plugins}))}},chartDataHandler(t,e){const r={...t},o={...e},c=this.getCurrentChart();if(Object.keys(o).length>0){const t=function(t,e){const r=t.datasets.map((t=>t.label)),n=e.datasets.map((t=>t.label));return e.datasets.length===t.datasets.length&&r.every(((t,e)=>t===n[e]))}(r,o);t&&null!==c?(d(c.data,r,this.datasetIdKey),void 0!==r.labels&&(!function(t,e,r){t.data.labels=e,void 0!==r&&r.emit(n.LabelsUpdated)}(c,r.labels),this.$emit(n.LabelsUpdated)),this.updateChart(),this.$emit(n.ChartUpdated)):(null!==c&&(l(c),this.$emit(n.ChartDestroyed)),h(this.renderChart,this.chartData,this.chartOptions),this.$emit(n.ChartRendered))}else null!==c&&(l(c),this.$emit(n.ChartDestroyed)),h(this.renderChart,this.chartData,this.chartOptions),this.$emit(n.ChartRendered)},chartOptionsHandler(t){const e=this.getCurrentChart();null!==e?(!function(t,e){t.options={...e}}(e,t),this.updateChart()):h(this.renderChart,this.chartData,this.chartOptions)},updateChart(){!function(t,e){t.update(),void 0!==e&&e.emit(n.ChartUpdated)}(this.getCurrentChart())},getCurrentChart(){return this.hasAnnotationPlugin?o[this.$data._id]:this.$data._chart},setCurrentChart(t){this.hasAnnotationPlugin?o[this.$data._id]=t:this.$data._chart=t}},beforeDestroy(){const t=this.getCurrentChart();null!==t&&(l(t),this.$emit(n.ChartDestroyed))},render:function(t){return t("div",{style:this.styles,class:this.cssClasses},[t("canvas",{attrs:{id:this.chartId,width:this.width,height:this.height},ref:"canvas"})])}}}c.a,c.f;const m=f("line-chart","line",c.h);c.k,c.m,c.n,c.c,c.o;var v={components:{LineChart:m},props:{units:{type:String,default:null},metrics:Array,height:{type:String,default:"80vh"}},computed:{chartData:function(){var t=this,e=[];return this.metrics.forEach((function(r){var n={label:r.name,data:[],borderWidth:1,borderColor:["rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)","rgba(54, 162, 235, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"]};r.range.values.forEach((function(e){var r=Object(o.a)(e,2),c=r[0],h=r[1];n.data.push({x:t.$moment.unix(c).format("HH:mm:ss"),y:h})})),e.push(n)})),{datasets:e}},chartOptions:function(){return{responsive:!0,animation:!1,elements:{point:{radius:0}}}}}},y=r(44),component=Object(y.a)(v,(function(){var t=this,e=t._self._c;return e("div",[e("LineChart",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":"line-chart",height:t.height}})],1)}),[],!1,null,null,null);e.default=component.exports},628:function(t,e,r){"use strict";r.r(e);r(54),r(10),r(75),r(53),r(22),r(28),r(80),r(81),r(59);var n=r(11);r(58),r(48);function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,h=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return h=t.done,t},e:function(t){l=!0,o=t},f:function(){try{h||null==r.return||r.return()}finally{if(l)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var h={mixins:[r(614).a],props:{server:String,metric:Object},data:function(){return{m:[]}},watch:{"metric.metrics":function(){this.fetchData()},server:function(){this.fetchData()}},methods:{disable:function(){this.$store.commit("metrics/disable",this.metric)},fetchData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,h,l,d,f,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=o(t.metric.metrics),e.prev=2,n.s();case 4:if((c=n.n()).done){e.next=15;break}h=c.value,l={},d=o(h.tags);try{for(d.s();!(f=d.n()).done;)m=f.value,l[m.name]=m.value}catch(t){d.e(t)}finally{d.f()}return e.next=11,t.$api.metrics.getByKey(t.server,h.name,l);case 11:v=e.sent,r.push(v);case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:t.m=r;case 24:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})))()}},computed:{hasMetrics:function(){return this.m.length>0}}},l=r(44),component=Object(l.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex-fill"},[t.hasMetrics?e("div",{staticClass:"card shadow-sm position-relative"},[e("button",{staticClass:"btn btn-light-outline btn-sm position-absolute",staticStyle:{top:"0",right:"0"},on:{click:t.disable}},[e("b-icon",{attrs:{icon:"x"}})],1),t._v(" "),e("div",{staticClass:"py-2 pl-2"},[e("ChartsLine",{attrs:{metrics:t.m}})],1)]):e("UIWarningMessage",[t._v("\n    There is no metric.\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ChartsLine:r(623).default,UIWarningMessage:r(613).default})}}]);