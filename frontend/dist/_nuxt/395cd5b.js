(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{199:function(e,t,r){"use strict";var n=r(38),c=r(39),o=(r(45),function(){function e(t){Object(n.a)(this,e),this.mode=t}return Object(c.a)(e,[{key:"debug",value:function(){for(var e=arguments.length,content=new Array(e),t=0;t<e;t++)content[t]=arguments[t];this.__log.apply(this,["success"].concat(content))}},{key:"error",value:function(){for(var e=arguments.length,content=new Array(e),t=0;t<e;t++)content[t]=arguments[t];this.__log.apply(this,["error"].concat(content))}},{key:"info",value:function(){for(var e=arguments.length,content=new Array(e),t=0;t<e;t++)content[t]=arguments[t];this.__log.apply(this,["info"].concat(content))}},{key:"__log",value:function(e){var t,r,n;if("development"===this.mode){for(var c=arguments.length,content=new Array(c>1?c-1:0),o=1;o<c;o++)content[o-1]=arguments[o];switch(e){case"success":(t=console).info.apply(t,content);break;case"info":(r=console).info.apply(r,content);break;case"error":(n=console).error.apply(n,content)}}}}]),e}());t.a=function(e,t){var r=new o("production");t("logger",r),e.$logger=r}},200:function(e,t,r){"use strict";t.a=function(e){var t=e.$axios,r=e.$logger;e.redirect;t.setBaseURL("http://127.0.0.1:8080"),t.onRequest((function(e){r.debug("Making request: ".concat(e.url),e)})),t.onResponse((function(e){r.debug("Response:",e)})),t.onError((function(e){r.error("Request error",e)}))}},201:function(e,t,r){"use strict";t.a=function(e,t){e.store.dispatch("servers/fetchServers")}},202:function(e,t,r){"use strict";var n=r(67);n.e.register(n.p,n.q,n.g,n.l,n.b,n.d,n.j,n.i)},205:function(e,t,r){"use strict";var n=r(11),c=(r(58),r(46)),o=r(34),f=r(38),l=r(39),v=(r(10),r(17),r(247),r(187)),h=(r(48),function(){function e(t,r){Object(f.a)(this,e),this.name=void 0,this.events={},this.listeners={},this.ws=t,this.name=r,this._subscribe()}return Object(l.a)(e,[{key:"listen",value:function(e,t){return this._on(e,t),this}},{key:"_on",value:function(e,t){var r=this;if(!t)throw new Error("Callback should be specified.");return void 0===this.listeners[e]&&(this.listeners[e]=[]),this.events[e]||(this.events[e]=function(t){r.ws.logger.debug("publication on ".concat(t.channel),t);var n=t.data||{event:"null"};n.event===e&&r.listeners[e].length>0&&r.listeners[e].forEach((function(e){return e(n.data)}))},this.subscription.on("publication",this.events[e])),this.listeners[e].push(t),this}},{key:"stopListening",value:function(e){this.events[e]&&(this.subscription.removeListener("publication",this.events[e]),this.events[e]=null,this.listeners[e]=[])}},{key:"unsubscribe",value:function(){this.subscription.removeAllListeners(),this.ws.centrifuge.removeSubscription(this.subscription),this.listeners={},this.events={}}},{key:"_subscribe",value:function(){var e=this,sub=this.ws.centrifuge.getSubscription(this.name);sub||((sub=this.ws.centrifuge.newSubscription(this.name)).on("subscribing",(function(t){e.ws.logger.debug("subscribing to ".concat(e.name),t)})),sub.on("subscribed",(function(t){e.ws.logger.debug("subscribed to ".concat(e.name),t)})),sub.on("unsubscribed",(function(t){e.ws.logger.debug("unsubscribed from ".concat(e.name),t)})),sub.subscribe()),this.subscription=sub}}]),e}()),d=function(){function e(t,r){Object(f.a)(this,e),this.channels={},this.centrifuge=t,this.logger=r}return Object(l.a)(e,[{key:"rpc",value:function(e,data){var t=this;return"object"!==Object(o.a)(data)&&(data={}),this.logger.debug("RPC request",e,data),this.centrifuge.rpc(e,data).then((function(r){if(t.logger.debug("RPC result",e,r),200!==r.data.code)throw t.logger.error("RPC error",e,r.data),new Error(r.data.message);return r}))}},{key:"connect",value:function(){var e=this;return this.centrifuge.on("connecting",(function(t){e.logger.debug("connecting to Centrifugo",t)})),this.centrifuge.on("connected",(function(t){e.logger.debug("connected to Centrifugo",t)})),this.centrifuge.on("disconnected",(function(t){e.logger.debug("disconnected from Centrifugo",t)})),this.centrifuge.connect(),this.centrifuge.ready()}},{key:"disconnect",value:function(){Object.entries(this.channels).forEach((function(e){var t=Object(c.a)(e,2);t[0];t[1].unsubscribe()})),this.centrifuge.removeAllListeners(),this.centrifuge.disconnect()}},{key:"channel",value:function(e){return this.channels[e]||(this.channels[e]=new h(this,e)),this.channels[e]}},{key:"serverChannel",value:function(e){return this.channel("server.".concat(e))}}]),e}(),m=function(e){return e.connect().then((function(t){e.channel("public")}))};t.a=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new v.Centrifuge("".concat("ws://127.0.0.1:8080/connection/websocket")),c=new d(n,t.$logger),e.next=4,m(c);case 4:r("ws",c),t.$ws=c;case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},206:function(e,t,r){"use strict";var n=r(38),c=r(39),o=r(11),f=(r(58),function(e){var t=e.$ws;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("get:servers").then((function(e){return{servers:e.data.data.servers,default:e.data.default}})));case 1:case"end":return e.stop()}}),e)})))}),l=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("get:plugins",{server:r}).then((function(e){return e.data.data.plugins})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("get:plugin/workers",{server:r,plugin:n}).then((function(e){return e.data.data.workers||[]})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},h=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("post:plugin/reset",{server:r,plugin:n}).then((function(e){return e.data.status})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},d=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("get:jobs/pipelines",{server:r}).then((function(e){return e.data.pipelines})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("post:jobs/pipeline/pause",{server:r,pipeline:n}).then((function(e){return e.data.status})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},w=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("post:jobs/pipeline/resume",{server:r,pipeline:n}).then((function(e){return e.data.status})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},k=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("get:services",{server:r}).then((function(e){return e.data.data.services})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("post:service/restart",{server:r,service:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},y=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("get:service/status",{server:r,service:n}).then((function(e){return e.data.data.statuses})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},_=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r,address){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("post:server/register",{name:r,address:address}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},R=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("get:rr/config",{server:r}).then((function(e){return e.data.config})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("get:rr/version",{server:r}).then((function(e){return e.data.version})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("get:metrics",{server:r}).then((function(e){return e.data.data.metrics})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.$ws;return function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r,n,c){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpc("get:metrics/".concat(n),{server:r,tag:c}).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()};t.a=function(e,t){var r=new(function(){function t(){Object(n.a)(this,t)}return Object(c.a)(t,[{key:"servers",get:function(){return{list:f(e),register:_(e)}}},{key:"rr",get:function(){return{config:R(e),version:C(e)}}},{key:"plugins",get:function(){return{list:l(e),workers:v(e),reset:h(e)}}},{key:"services",get:function(){return{list:k(e),status:y(e),restart:x(e)}}},{key:"jobs",get:function(){return{pipelines:d(e),pause:m(e),resume:w(e)}}},{key:"metrics",get:function(){return{get:j(e),getByKey:O(e)}}}]),t}());t("api",r),e.$api=r}},257:function(e,t,r){var content=r(361);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(91).default)("13744324",content,!0,{sourceMap:!1})},296:function(e,t,r){"use strict";var n={},c=(r(360),r(44)),component=Object(c.a)(n,(function(){var e=this,t=e._self._c;return t("main",{staticClass:"container-fluid py-4 d-flex flex-column flex-shrink-0"},[t("UIHeader",{staticClass:"mb-4"}),e._v(" "),t("Nuxt",{staticClass:"flex-fill d-flex flex-column flex-shrink-0"}),e._v(" "),t("UIFooter")],1)}),[],!1,null,null,null);t.a=component.exports;installComponents(component,{UIHeader:r(605).default,UIFooter:r(608).default})},300:function(e,t,r){r(301),e.exports=r(302)},360:function(e,t,r){"use strict";r(257)},361:function(e,t,r){var n=r(90)(!1);n.push([e.i,"body{background-color:#f5f5f5}#__layout,#__layout>main,#__nuxt,body{min-height:100vh}",""]),e.exports=n},362:function(e,t,r){r(54),Object.defineProperty(String.prototype,"capitalize",{value:function(){return this.charAt(0).toUpperCase()+this.slice(1)},enumerable:!1})},363:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return c})),r.d(t,"mutations",(function(){return o})),r.d(t,"getters",(function(){return f})),r.d(t,"actions",(function(){return l}));var n=r(11),c=(r(58),function(){return{config:null,version:"0.0"}}),o={setConfig:function(e,t){e.config=t},setVersion:function(e,t){e.version=t}},f={getVersion:function(e){return e.version},getConfig:function(e){return e.config},hasConfig:function(e){return null!==e.config}},l={fetchConfig:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var c,o,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=e.commit,n.prev=1,n.next=4,r.$api.rr.config(t);case 4:o=n.sent,c("setConfig",o||{}),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(1);case 10:return n.prev=10,n.next=13,r.$api.rr.version(t);case 13:f=n.sent,c("setVersion",f),n.next=19;break;case 17:n.prev=17,n.t1=n.catch(10);case 19:case"end":return n.stop()}}),n,null,[[1,8],[10,17]])})))()}}},364:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return l})),r.d(t,"mutations",(function(){return v})),r.d(t,"getters",(function(){return h})),r.d(t,"actions",(function(){return d}));var n=r(11),c=(r(10),r(53),r(59),r(79),r(19),r(58),null),o=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.metrics.get(n);case 2:(c=e.sent)instanceof Array&&c.length>0?r("setMetrics",c):r("setMetrics",null);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),f=function e(t,r,n){Promise.all([o(t,r,n)]).then((function(){c=setTimeout((function(){e(t,r,n)}),5e3)}))},l=function(){return{metrics:null,enabled:[]}},v={setMetrics:function(e,t){e.metrics=t},enable:function(e,t){e.enabled.push(t)},disable:function(e,t){e.enabled=e.enabled.filter((function(e){return e.id!==t.id}))}},h={getEnabledMetrics:function(e){return e.enabled},getMetrics:function(e){return e.metrics},hasMetrics:function(e){return null!==e.metrics}},d={fetchMetrics:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=e.commit,clearTimeout(c),f(r.$api,o,t);case 3:case"end":return n.stop()}}),n)})))()}}},365:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return c})),r.d(t,"mutations",(function(){return o})),r.d(t,"getters",(function(){return f})),r.d(t,"actions",(function(){return l}));var n=r(11),c=(r(58),r(208),r(48),function(){return{plugins:[]}}),o={setPlugins:function(e,t){e.plugins=t.sort((function(a,b){return a.name.substr(1)>b.name.substr(1)?-1:b.name.substr(1)>a.name.substr(1)?1:0}))}},f={getPlugins:function(e){return e.plugins}},l={fetchPlugins:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var c,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=e.commit,n.next=3,r.$api.plugins.list(t);case 3:o=n.sent,c("setPlugins",o);case 5:case"end":return n.stop()}}),n)})))()}}},369:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return c})),r.d(t,"mutations",(function(){return o})),r.d(t,"getters",(function(){return f})),r.d(t,"actions",(function(){return l}));var n=r(11),c=(r(58),function(){return{servers:[],selectedServer:null,defaultServer:null}}),o={setServers:function(e,t){e.servers=t},setDefaultServer:function(e,t){e.defaultServer&&this.$ws.serverChannel(e.defaultServer).unsubscribe(),this.$ws.serverChannel(t),e.defaultServer=t,this.dispatch("config/fetchConfig",t),this.dispatch("metrics/fetchMetrics",t)}},f={getServers:function(e){return e.servers},getDefaultServer:function(e){return null===e.selectedServer?e.defaultServer||e.servers[0]||null:e.selectedServer}},l={fetchServers:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,t.$api.servers.list();case 3:c=r.sent,n("setServers",c.servers),n("setDefaultServer",c.default);case 6:case"end":return r.stop()}}),r)})))()}}},597:function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=597},605:function(e,t,r){"use strict";r.r(t);var n={},c=r(44),component=Object(c.a)(n,(function(){return(0,this._self._c)("UINavigation")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{UINavigation:r(606).default})},606:function(e,t,r){"use strict";r.r(t);var n={computed:{hasConfig:function(){return this.$store.getters["config/hasConfig"]},hasMetrics:function(){return this.$store.getters["metrics/hasMetrics"]},version:function(){return this.$store.getters["config/getVersion"]}}},c=r(44),component=Object(c.a)(n,(function(){var e=this,t=e._self._c;return t("nav",{staticClass:"navbar px-2 bg-light border"},[t("div",{staticClass:"d-flex w-100 justify-content-between"},[t("div",{staticClass:"d-flex flex-fill align-items-center"},[t("NuxtLink",{staticClass:"navbar-brand d-flex align-items-center",attrs:{to:"/"}},[t("svg",{attrs:{height:"35px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 257 257",fill:"#007bff","xml:space":"preserve"}},[t("path",{attrs:{d:"M70 140c10 0 19-3 26-8 12-8 21-22 27-37a76 76 0 0 0 3-47c-6-20-27-33-55-33-10 0-22 2-32 6C21 27 8 40 2 56a57 57 0 0 0 10 51c15 20 37 33 58 33zm18-76a12 12 0 1 1 1 23 12 12 0 0 1-1-23zM235 87a12 12 0 0 0 11-12 12 12 0 1 0-23 1c0 6 5 11 12 11zM248 209c-57 0-72-32-76-45 16-6 27-26 27-39 0-18-17-32-37-32-21 0-38 14-38 32 0 13 11 33 27 39-4 13-19 45-76 45a9 9 0 1 0 0 18c45 0 69-18 81-33l6-9 5 9c22 27 56 33 81 33a9 9 0 1 0 0-18z"}}),e._v(" "),t("path",{attrs:{d:"M169 224h-15a9 9 0 1 0 0 18h15a9 9 0 1 0 0-18z"}})]),e._v(" "),t("strong",{staticClass:"ml-3 font-weight-bolder"},[e._v("Birddog")])]),e._v(" "),t("div",{staticClass:"d-flex flex-fill me-auto mt-1 ml-4"},[e.hasConfig?t("div",{staticClass:"nav-item"},[t("NuxtLink",{staticClass:"nav-link",attrs:{to:"/config"}},[e._v("\n            Config\n          ")])],1):e._e(),e._v(" "),e.hasMetrics?t("div",{staticClass:"nav-item"},[t("NuxtLink",{staticClass:"nav-link",attrs:{to:"/dashboard"}},[e._v("\n            Metrics\n          ")])],1):e._e()])],1),e._v(" "),t("div",{staticClass:"d-flex align-items-center"},[t("span",{staticClass:"badge badge-light border mr-2"},[e._v("v"+e._s(e.version))]),e._v(" "),t("ServersDropdown")],1)])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ServersDropdown:r(607).default})},607:function(e,t,r){"use strict";r.r(t);var n={methods:{selectServer:function(e){this.$store.commit("servers/setDefaultServer",e)}},mounted:function(){var e=this;this.$ws.channel("public").listen("server.registered",(function(t){t.server;e.$store.dispatch("servers/fetchServers")}))},computed:{hasMultipleServers:function(){return this.servers.length>1},servers:function(){return this.$store.getters["servers/getServers"]},defaultServer:function(){return this.$store.getters["servers/getDefaultServer"]}}},c=r(44),component=Object(c.a)(n,(function(){var e=this,t=e._self._c;return t("div",[e.hasMultipleServers?t("b-dropdown",{attrs:{variant:"primary",size:"sm","no-caret":""},scopedSlots:e._u([{key:"button-content",fn:function(){return[e.defaultServer?t("span",[t("b-icon",{staticClass:"mr-2",attrs:{icon:"broadcast-pin","font-scale":"1.5"}}),e._v(" "),t("small",[e._v("Server")]),e._v(" "),t("strong",[e._v(e._s(e.defaultServer))])],1):t("span",[e._v("Select server")])]},proxy:!0}],null,!1,1513227806)},[e._v(" "),e._l(e.servers,(function(r){return t("b-dropdown-item",{key:r,on:{click:function(t){return e.selectServer(r)}}},[e._v("\n      "+e._s(r)+"\n    ")])}))],2):t("div",[t("span",{staticClass:"badge badge-primary d-flex align-items-center p-2"},[t("b-icon",{staticClass:"mr-2",attrs:{icon:"broadcast-pin","font-scale":"1.5"}}),e._v("\n      Server "),t("strong",{staticClass:"ml-1"},[e._v(e._s(e.defaultServer))])],1)])],1)}),[],!1,null,null,null);t.default=component.exports},608:function(e,t,r){"use strict";r.r(t);var n={},c=r(44),component=Object(c.a)(n,(function(){return(0,this._self._c)("footer")}),[],!1,null,null,null);t.default=component.exports}},[[300,25,3,26]]]);