(window.webpackJsonp=window.webpackJsonp||[]).push([[23,6,7,18],{614:function(e,t,r){"use strict";r.r(t);var n={name:"WarningMessage"},o=r(45),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"alert alert-warning border d-flex align-items-center mb-0",attrs:{role:"alert"}},[t("div",{staticClass:"mr-3"},[t("b-icon",{attrs:{icon:"exclamation-triangle-fill",variant:"danger","font-scale":"1.5"}})],1),e._v(" "),t("div",[e._t("default")],2)])}),[],!1,null,"1db0f313",null);t.default=component.exports},615:function(e,t,r){"use strict";var n=r(11);r(10),r(53),r(59),r(79),r(58);t.a={mounted:function(){this.refreshPeriodically()},beforeDestroy:function(){this.resetPeriodically()},methods:{fetchData:function(){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},resetPeriodically:function(){clearTimeout(this.timeout)},refreshPeriodically:function(){var e=this;Promise.all([this.fetchData()]).then((function(){e.timeout=setTimeout((function(){e.refreshPeriodically()}),e.refreshTimeout||5e3)}))}}}},630:function(e,t,r){"use strict";r.r(t);r(48);var n=r(11),o=(r(58),{props:{server:String,pipeline:Object},data:function(){return{loading:!1}},methods:{pause:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$api.jobs.pause(e.server,e.pipeline.name);case 3:e.loading=!1,e.$emit("paused");case 5:case"end":return t.stop()}}),t)})))()},resume:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$api.jobs.resume(e.server,e.pipeline.name);case 3:e.loading=!1,e.$emit("resumed");case 5:case"end":return t.stop()}}),t)})))()}}}),c=r(45),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"card",class:{"border-success":e.pipeline.ready}},[t("div",{staticClass:"card-header"},[t("div",{staticClass:"d-flex justify-content-between align-items-start"},[t("h5",[t("strong",[e._v(e._s(e.pipeline.name))]),e._v(" "),e.pipeline.ready?t("span",{staticClass:"badge badge-success border ml-2"},[e._v("Consuming")]):t("span",{staticClass:"badge badge-warning border ml-2"},[e._v("Paused")])]),e._v(" "),e.pipeline.ready?t("div",{staticClass:"spinner-border text-primary"}):e._e()])]),e._v(" "),t("div",{staticClass:"card-body"},[t("span",{staticClass:"badge badge-light border mr-2"},[e._v("Driver - "+e._s(e.pipeline.driver))]),e._v(" "),t("span",{staticClass:"badge badge-light border mr-2"},[e._v("Priority - "+e._s(e.pipeline.priority))]),e._v(" "),t("span",{staticClass:"badge badge-light border mr-2"},[e._v("Active jobs - "+e._s(e.pipeline.active))]),e._v(" "),t("span",{staticClass:"badge badge-light border mr-2"},[e._v("Delayed jobs - "+e._s(e.pipeline.delayed))]),e._v(" "),t("span",{staticClass:"badge badge-light border mr-2"},[e._v("Reserved jobs - "+e._s(e.pipeline.reserved))])]),e._v(" "),t("div",{staticClass:"card-footer"},[e.pipeline.ready?t("button",{staticClass:"btn btn-sm btn-warning ml-2",attrs:{type:"button"},on:{click:function(t){return e.pause()}}},[t("b-icon",{attrs:{icon:"pause-circle"}}),e._v(" Pause\n    ")],1):t("button",{staticClass:"btn btn-sm btn-success ml-2",attrs:{type:"button"},on:{click:function(t){return e.resume()}}},[t("b-icon",{attrs:{icon:"power"}}),e._v(" Consume\n    ")],1)])])}),[],!1,null,null,null);t.default=component.exports},636:function(e,t,r){"use strict";r.r(t);r(48);var n=r(11),o=(r(208),r(58),r(615)),c={props:{server:String},mixins:[o.a],data:function(){return{pipelines:[],loading:!1}},watch:{server:function(){this.fetchData()}},methods:{onPause:function(){this.fetchData()},onResume:function(){this.fetchData()},fetchData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.jobs.pipelines(e.server);case 3:e.pipelines=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.pipelines=[];case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},computed:{hasPipelines:function(){return this.pipelines.length>0},sortedPipelines:function(){return this.pipelines.sort((function(a,b){return a.name.substr(1)>b.name.substr(1)?-1:b.name.substr(1)>a.name.substr(1)?1:0}))}}},l=r(45),component=Object(l.a)(c,(function(){var e=this,t=e._self._c;return t("div",[e.hasPipelines?t("div",{staticClass:"list-group"},[t("h4",{staticClass:"mb-4"},[e._v("Pipelines")]),e._v(" "),e._l(e.sortedPipelines,(function(r){return t("JobsPipeline",{key:r.name,attrs:{pipeline:r,server:e.server},on:{paused:e.onPause,resumed:e.onResume}})}))],2):t("UIWarningMessage",[e._v("\n    There are no available Jobs pipelines on "),t("strong",[e._v(e._s(e.server))]),e._v(" server.\n  ")])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{JobsPipeline:r(630).default,UIWarningMessage:r(614).default})},647:function(e,t,r){"use strict";r.r(t);var n={head:function(){return{title:"Jobs plugin - ".concat(this.server)}},computed:{server:function(){return this.$store.getters["servers/getDefaultServer"]}}},o=r(45),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return e.server?t("div",[t("nav",{staticClass:"mb-4",attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb"},[t("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t("NuxtLink",{attrs:{to:"/"}},[e._v("\n          Server "),t("strong",[e._v(e._s(e.server))])])],1),e._v(" "),e._m(0)])]),e._v(" "),t("JobsPipelines",{attrs:{server:e.server}})],1):e._e()}),[function(){var e=this,t=e._self._c;return t("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t("strong",[e._v("Jobs")]),e._v(" plugin\n      ")])}],!1,null,null,null);t.default=component.exports;installComponents(component,{JobsPipelines:r(636).default})}}]);